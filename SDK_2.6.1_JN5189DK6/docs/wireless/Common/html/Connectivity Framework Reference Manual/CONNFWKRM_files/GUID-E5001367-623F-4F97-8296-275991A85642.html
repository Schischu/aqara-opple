<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="NVM support over PDM"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0E23C916-82C8-415A-8469-773251C6D3F3.html"/>
<meta name="prodname" content=""/>
<meta name="version" content="1"/>
<meta name="release" content="0"/>
<meta name="modification" content="0"/>
<meta name="DC.Creator" content="NXP Semiconductors"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E5001367-623F-4F97-8296-275991A85642"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>NVM support over PDM</title>
</head>
<body id="GUID-E5001367-623F-4F97-8296-275991A85642">


    <h1 class="title topictitle1">NVM support over PDM</h1>

    <div class="body">
        <p class="p">JN5189/QN9090/K32W061 devices NVM implementation is based on the underlying
            PDM (Persistent Data Manager). These products are based on an internal Flash that has
            512 byte pages. The NVM APIs perform calls to PDM version. The PDM is in charge of
            coping with wear-leveling to limit the Flash wearing. </p>
<div class="p"> The NVM/PDM is used to store application data such as: <ul class="ul">
                <li class="li"> Bonding tables in Bluetooth LE apps, </li>

                <li class="li"> ZigBee Application layer data:<ul class="ul">
                        <li class="li"> AIB members, such as the EPID and ZDO state</li>

                        <li class="li"> Group Address table</li>

                        <li class="li"> Binding table</li>

                        <li class="li"> Application key-pair descriptor</li>

                        <li class="li"> Trust Centre device table</li>

                        <li class="li"> Network layer data:</li>

                        <li class="li"> NIB members, such as PAN ID and radio channel</li>

                        <li class="li"> Neighbor table</li>

                        <li class="li"> Network keys</li>

                        <li class="li"> Address Map tables </li>

                    </ul>
</li>

                <li class="li">Additionally data concerning the Radio characterization in temperature are to be
                    stored in the NVM</li>

                <li class="li">Customer application data if necessary.</li>

            </ul>
</div>

                        
             <div class="note note"><span class="notetitle">Note:</span> When a record is first created, a unique 16-bit identifier must be assigned to it
            record by the application - this identifier is then used to reference the record. The
            value used must not clash with those used by the NXP libraries - For Bluetooth
            LE-related products: - the Radio calibration uses 0xff00. - the range BLE bonding data
            use the range 0x4011..0x4015. For ZigBee related products: -the ZPSNWK used
            0xf100..0xf1ff - the ZPSAPL services use 0xf000..0xf0ff.</div>

            
            <p class="p">The range 0x0000..0x3fff is left for customer applications. </p>

        <div class="note note"><span class="notetitle">Note:</span> The NVM section must be large enough to provide an efficient wear-leveling mechanism.
            Currently we consider that 63 512 byte pages are enough but can be resized if necessary
            up to 111 pages. The NVM over PDM implementation does not support the unmirrored
            variant, which implies that gUnmirroredFeatureSet_d must remain unset. Likewise
            gNvUseExtendedFeatureSet_d is not applicable this implementation so is unset
            .gNvTableKeptInRam_d is set though. </div>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-0E23C916-82C8-415A-8469-773251C6D3F3.html">Flash Management and Non-Volatile Storage Module</a></div>
</div>
</div>

</body>
</html>